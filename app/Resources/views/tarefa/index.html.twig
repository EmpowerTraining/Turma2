{% extends 'base.html.twig' %}

{% block body %}
    <h1>Tarefas</h1>

    <div class="table-responsive">
        <table class="table  table-bordered table-striped">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Descrição</th>
                    <th>Status</th>
                    <th>Demandante</th>
                    <th>Responsável</th>
                    <th>Data Fim</th>
                    <th>Data Cadastro</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody>
            {% for tarefa in tarefas %}
                <tr>
                    <td><a href="{{ path('tarefa_show', { 'id': tarefa.id }) }}">{{ tarefa.id }}</a></td>
                    <td>{{ tarefa.descricao }}</td>
                    <td>{{ tarefa.status.id }} - {{ tarefa.status.status }}</td>
                    <td>{{ tarefa.demandante.nome }} ({{ tarefa.demandante.email }})</td>
                    <td>{{ tarefa.responsavel.nome }} ({{ tarefa.responsavel.email }})</td>
                    <td>{% if tarefa.dataFim %}{{ tarefa.dataFim|date('d/m/Y') }}{% endif %}</td>
                    <td>{% if tarefa.dataCadastro %}{{ tarefa.dataCadastro|date('d/m/Y') }}{% endif %}</td>
                    <td>
                        <a class="btn btn-success" href="{{ path('tarefa_show', { 'id': tarefa.id }) }}"><span class="glyphicon glyphicon-eye-open"  aria-hidden="true"></span></a>
                        <a class="btn btn-info" href="{{ path('tarefa_edit', { 'id': tarefa.id }) }}"><span class="glyphicon glyphicon-pencil"  aria-hidden="true"></span></a>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    <a href="{{ path('tarefa_new') }}" class="btn btn-primary">Nova Tarefa</a>

{% endblock %}
